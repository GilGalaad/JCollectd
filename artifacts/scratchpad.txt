SELECT sample_tms,
MAX(CASE WHEN probe_name = 'load1m' THEN sample_value ELSE NULL END) l1m,
MAX(CASE WHEN probe_name = 'load5m' THEN sample_value ELSE NULL END) l5m,
MAX(CASE WHEN probe_name = 'load15m' THEN sample_value ELSE NULL END) l15m
FROM probe_samples
WHERE sample_tms > ?
AND (probe_name = 'load1m' OR probe_name = 'load5m' OR probe_name = 'load15m')
GROUP BY sample_tms ORDER BY sample_tms;

SELECT sample_tms, sample_value
FROM probe_samples
WHERE sample_tms > ?
AND probe_name = 'cpu'
ORDER BY sample_tms;

SELECT sample_tms,
MAX(CASE WHEN probe_name = 'mem' THEN sample_value ELSE NULL END) mem,
MAX(CASE WHEN probe_name = 'swap' THEN sample_value ELSE NULL END) swap
FROM probe_samples
WHERE sample_tms > ?
AND (probe_name = 'mem' OR probe_name = 'swap')
GROUP BY sample_tms ORDER BY sample_tms;

SELECT sample_tms,
MAX(CASE WHEN probe_name LIKE '%tx%' THEN sample_value ELSE NULL END) tx,
MAX(CASE WHEN probe_name LIKE '%rx%' THEN sample_value ELSE NULL END) rx
FROM probe_samples
WHERE sample_tms > ?
AND (probe_name = ? OR probe_name = ?)
GROUP BY sample_tms ORDER BY sample_tms;

SELECT sample_tms,
MAX(CASE WHEN probe_name LIKE '%read%' THEN sample_value ELSE NULL END) read,
MAX(CASE WHEN probe_name LIKE '%write%' THEN sample_value ELSE NULL END) write
FROM probe_samples
WHERE sample_tms > ?
AND (probe_name = ? OR probe_name = ?)
GROUP BY sample_tms ORDER BY sample_tms;
